# Notion Commentプロパティでの記事作成ガイド

## 概要
Affiling記事のコンテンツは、Notionデータベースの「Comment」プロパティに通常のテキストを記入することで、自動的にHTML記事としてサイトに反映されます。

## Commentプロパティの使い方

### 基本的な使い方
Commentプロパティに通常のテキストを記入するだけで、自動的にHTMLに変換されます。

- **改行**: 自動的に`<br>`タグに変換されます
- **段落**: 空行で区切ることで、自動的に`<p>`タグで段落分けされます
- **リンク**: URLは自動的にリンクとして変換されます
- **スタイル**: Notionのリッチテキスト機能（太字、斜体など）もHTMLに変換されます

### サポートされている記法

#### 見出し
```
# 見出し1
## 見出し2
### 見出し3
#### 見出し4
```

#### リスト
```
- 項目1
- 項目2
- 項目3
```

または

```
1. 項目1
2. 項目2
3. 項目3
```

#### 水平線
```
---
```

#### 通常のテキスト
通常のテキストは自動的に段落（`<p>`タグ）に変換されます。改行は`<br>`タグに変換されます。

## 記事内容の取得優先順位
記事内容は以下の優先順位で取得されます：

1. **Commentプロパティ** (最優先)
   - テキストが自動的にHTMLに変換されます
   - Notionのリッチテキスト（太字、リンクなど）も保持されます

2. **Contentプロパティ**
   - Commentプロパティが空の場合に使用されます

3. **ページ本文（ブロック）**
   - CommentプロパティとContentプロパティが両方とも空の場合に使用されます

## 例

### Commentプロパティに入力する内容
```
# おすすめ商品ランキング

この記事では、おすすめの商品を紹介します。

## 1位 商品A

商品Aは非常に優れた商品です。
https://example.com/product-a

## 2位 商品B

商品Bもおすすめです。

特徴:
- 高品質
- リーズナブルな価格
- 長期間の保証
```

### 自動変換されるHTML
```html
<h1>おすすめ商品ランキング</h1>
<p>この記事では、おすすめの商品を紹介します。</p>
<h2>1位 商品A</h2>
<p>商品Aは非常に優れた商品です。<br><a href="https://example.com/product-a" target="_blank" rel="nofollow noopener">https://example.com/product-a</a></p>
<h2>2位 商品B</h2>
<p>商品Bもおすすめです。</p>
<p>特徴:</p>
<ul><li>高品質</li><li>リーズナブルな価格</li><li>長期間の保証</li></ul>
```

## トラブルシューティング

### 記事が反映されない場合
1. Commentプロパティに記事内容が記入されているか確認してください
2. 記事同期スクリプトを実行して、最新の内容を取得してください
3. JSONファイル（`data/affiling_articles.json`）を確認して、記事内容が正しく保存されているか確認してください

### HTMLが正しく表示されない場合
1. 記法（見出し、リストなど）が正しく記入されているか確認してください
2. 改行や段落の区切りが適切か確認してください

## 推奨事項
- 長い記事の場合は、空行で段落を区切ることを推奨します
- URLは自動的にリンクとして変換されますが、Notionのリンク機能も使用できます
- 太字や斜体などのスタイルは、Notionのリッチテキスト機能で設定できます


